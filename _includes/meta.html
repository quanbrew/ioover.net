{% capture title %}{% if page.title %}{{ page.title | escape }} &middot; {{ site.title | escape }}{% else %}{{ site.title | escape }}{% if site.tagline %} &middot; {{ site.tagline }}{% endif %}{% endif %}{% endcapture %}
{% capture image %}{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ "assets/logo.png" | absolute_url }}{% endif %}{% endcapture %}
{% capture description %}{{ page.summary | default: page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}{% endcapture %}

<title>{{title}}</title>
<meta name="author" content="{{ page.author | default: site.author }}" />
<meta name="description" content="{{ description }}">
<link rel="canonical" href="{{ page.url | absolute_url }}" />

{% if paginator.previous_page %}
  <link rel="prev" href="{{ paginator.previous_page_path | absolute_url }}" />
{% endif %}
{% if paginator.next_page %}
  <link rel="next" href="{{ paginator.next_page_path | absolute_url }}" />
{% endif %}

<!-- Twitter Card Data -->
<meta name="twitter:card" content="{% if page.feature %}summary_large_image{% else %}summary{% endif %}">
<meta name="twitter:site" content="@{{ site.twitter }}">
<meta name="twitter:creator" content="@{{ site.twitter }}">
<meta name="twitter:title" content="{{ title }}">
<meta name="twitter:url" content="{{ page.url | absolute_url }}">
<meta name="twitter:description" content="{{ description }}">
<meta name="twitter:image" content="{{ image }}">
<!-- Open Graph Data -->
<meta property="og:title" content="{{ title }}" />
<meta property="og:site_name" content="{{ site.title }}" />

<meta property="og:locale" content="{{ site.lang }}" />
<meta property="og:url" content="{{ page.url | absolute_url }}" />
<meta property="og:image" content="{{ image }}">
<meta property="og:description" content="{{ description }}" />
{% if page.date %}
<meta property="og:type" content="article" />
<meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
{% else %}
<meta property="og:type" content="website" />
{% endif %}

<!-- TODO JSON-LD -->
<!-- <script type="application/ld+json"></script> -->

<!-- Icons -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/icons/site.webmanifest">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#525252">
<meta name="msapplication-TileColor" content="#37e53d">
<meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
<meta name="theme-color" content="#4d4d4d">

<!-- Feed -->
{% feed_meta %}
